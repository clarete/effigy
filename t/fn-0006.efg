f = fn() {
  let x = 2
  foo = fn(v) x = x + v
  foo(1)
  return x
}
print(f()) # 3
